/*
 panels.js v1.0.3 | @nivocart | NivoCart | OSLv3 Licensed
*/
var PANEL_NORMAL_CLASS="panel",PANEL_COLLAPSED_CLASS="panel-collapsed",PANEL_HEADING_TAG="h3",PANEL_CONTENT_CLASS="panel-content",PANEL_COOKIE_NAME="panels",PANEL_ANIMATION_DELAY=24,PANEL_ANIMATION_STEPS=6;function setUpPanels(){loadSettings();for(var e=document.getElementsByTagName(PANEL_HEADING_TAG),t=0;t<e.length;t++){var a=e[t];if(a.parentNode.className==PANEL_NORMAL_CLASS||a.parentNode.className==PANEL_COLLAPSED_CLASS){var n=a.firstChild.nodeValue;"false"==panelsStatus[n]?a.parentNode.className=PANEL_COLLAPSED_CLASS:"true"==panelsStatus[n]?a.parentNode.className=PANEL_NORMAL_CLASS:panelsStatus[n]=a.parentNode.className==PANEL_NORMAL_CLASS?"true":"false",a.onclick=function(){var e=this.parentNode,t=this.firstChild.nodeValue,a=e.className==PANEL_COLLAPSED_CLASS;saveSettings(t,a?"true":"false"),animateTogglePanel(e,a)}}}}function animateTogglePanel(e,t){for(var a=e.getElementsByTagName("div"),n=null,s=0;s<a.length;s++)if(a[s].className==PANEL_CONTENT_CLASS){n=a[s];break}n.style.display="block";var l=n.offsetHeight;t&&(n.style.height="0px");var A=l/PANEL_ANIMATION_STEPS,N=t?1:-1;setTimeout(function(){animateStep(n,1,A,N)},PANEL_ANIMATION_DELAY)}function animateStep(e,t,a,n){t<PANEL_ANIMATION_STEPS?(e.style.height=Math.round((n>0?t:10-t)*a)+"px",t++,setTimeout(function(){animateStep(e,t,a,n)},PANEL_ANIMATION_DELAY)):(e.parentNode.className=n<0?PANEL_COLLAPSED_CLASS:PANEL_NORMAL_CLASS,e.style.display=e.style.height="")}function loadSettings(){panelsStatus={};var e=document.cookie.indexOf(PANEL_COOKIE_NAME+"=");if(-1!=e){e+=PANEL_COOKIE_NAME.length+1;var t=document.cookie.indexOf(";",e);-1==t&&(t=document.cookie.length);for(var a=unescape(document.cookie.substring(e,t)).split("|"),n=0;n<a.length;n++){var s=a[n].split(":");panelsStatus[s[0]]=s[1]}}}function expandAll(){for(var e in panelsStatus)saveSettings(e,"true");setUpPanels()}function collapseAll(){for(var e in panelsStatus)saveSettings(e,"false");setUpPanels()}function saveSettings(e,t){panelsStatus[e]=t;var a=[];for(var e in panelsStatus)a.push(e+":"+panelsStatus[e]);var n=new Date,s=new Date(n.getTime()+31536e6);document.cookie=PANEL_COOKIE_NAME+"="+escape(a.join("|"))+";expires="+s.toGMTString()}void 0!==window.attachEvent?window.attachEvent("onload",setUpPanels):window.addEventListener&&window.addEventListener("load",setUpPanels,!1);
